{% extends 'base.html' %}

{% load staticfiles %}
{% load filter_selects %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock styles %}

{% block content %}
<section id="title">
    <div class="container">
        <h1>Автомобильный портал 2Cars.Pro</h1>
        <p>Новый подход к Поиску и Покупке Автомобиля</p>
    </div>
</section>
<section id="filter" class="{% if user.is_authenticated %}auth-filter{% endif %}">
    <div class="container">
        <form id="search-form" action="{% url 'all-car' %}" method="get">
            <div class="filter_wrp">
                <div class="wrap">
                    <div class="form-flex brand-line">
                        <div class="form-select">
                            <label for="brand">Марка авто</label>
                            <select id="brand" name="model__mark">
                                <option selected disabled>Все авто</option>
                                {% marks as marks %}
                                {% for mark in marks %}
                                    <option value="{{ mark.id }}">{{ mark.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-select">
                            <label for="brand_type">Модель авто</label>
                            <select id="brand_type" name="model">
                                <option selected disabled>Все модели</option>
                            </select>
                        </div>
                        <div class="form-wrap twice twice-left">
                            <label for="price">Цена от/до $</label>
                            <input id="price" type="number" name="price__gte" placeholder="Цена от" class="form-input" value="{{ request.GET.price__gte }}">
                        </div>
                        <div class="form-wrap twice twice-top">
                            <input type="number" name="price__lte" placeholder="Цена до" class="form-input" value="{{ request.GET.price__lte }}">
                        </div>
                    </div>
                    <div class="form-flex">
                        <div class="form-select">
                            <label for="reg">Регион поиска</label>
                            <select id="reg" name="location">
                                {% location request as location_list %}
                                {% for location in location_list %}
                                    <option {{ location.selected }} {{location.value}}>{{ location.text|capfirst }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-select">
                            <label for="kpp">Вид КПП</label>
                            <select id="kpp" name="gearbox">
                                {% gearbox request as gearbox_list %}
                                {% for gearbox in gearbox_list %}
                                    <option {{ gearbox.selected }} {{gearbox.value}}>{{ gearbox.text }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-wrap twice twice-left">
                            <label for="year">Год от/до</label>
                            <input id="year" type="number" name="year__gte" placeholder="Год от" class="form-input" value="{{ request.GET.year__gte }}">
                        </div>
                        <div class="form-wrap twice twice-top">
                            <input type="number" name="year__lte" placeholder="Год до" class="form-input" value="{{ request.GET.year__lte }}">
                        </div>
                    </div>
                    <div class="form-flex">
                        <div class="form-select">
                            <label for="registr">Регистрация</label>
                            <select id="registr" name="cleared">
                                {% cleared request as cleared_list %}
                                {% for cleared in cleared_list %}
                                    <option {{ cleared.selected }} {{cleared.value}}>{{ cleared.text }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-select">
                            <label for="damage">ДТП / без ДТП</label>
                            <select id="damage" name="dtp">
                                {% dtp request as dtp_list %}
                                {% for dtp in dtp_list %}
                                    <option {{ dtp.selected }} {{dtp.value}}>{{ dtp.text }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-wrap wrap-radio">
                            <div>
                                <input type="checkbox" name="seller__is_blocked" id="block" value="0" {% if request.GET.seller__is_blocked %}checked{% endif %}>
                                <label for="block">Исключить заблокированных</label>
                            </div>
                            <div>
                                <input type="checkbox" name="seller__dealer" id="dil" value="0" {% if request.GET.seller__dealer %}checked{% endif %}>
                                <label for="dil">Исключить диллеров</label>
                            </div>
                        </div>
                    </div>
                    <div class="filter-bottom-block">
                        <div class="favorite">
                            <div><button><div class="favorite-img"></div><span>в избранное</span></button></div>
                            <div><a class="favorite-link" href="#">Перейти к избранным</a></div>
                        </div>
                        <div class="search-wrap">
                            <a id="better-s">расширенный поиск</a>
                            <a class="search-wrap-button" href="javascript:{}" onclick="$('#search-form').submit()">найти</a>
                        </div>
                    </div>
                </div>
                {% if not user.is_authenticated %}
                <a class="big_img" href="#">
                    <div href="#">Попробовать Премиум версию <br> БЕСПЛАТНО</div>
                </a>
                {% elif user.plan_type == 0 or not user.is_paid %}
                <a class="big_img" href="#">
                    <div href="#">Купить Премиум версию</div>
                </a>
                {% endif %}
            </div>
        </form>
        <p>Все Автомобили с AutoRia , RST, OLX Avtobazar и Бесплатка в одно месте <br> <span class="car_quantity">+6567</span> авто за день; <span class="last_hour">348</span> авто за последний час. <a class="more_analytics" href="#">Болеше Аналитики</a></p>
    </div>
</section>
<section id="opportunities">
    <div class="container">
        <div class="wrap">
            <div class="title">
                <p>Возможности 2Cars.Pro </p>
                <p>Основные возможности и преимущества портала</p>
            </div>
            <div class="pluses">
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/Vector.png" alt="">
                    </div>
                    <div class="about">
                        <h3>Все автомобили Украины в одном месте</h3>
                        <p>Все объявления о продаже автомобилей с
                                AutoRia, Avtobazar, RST и OLX в одном месте в удобном для анализа формате. </p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/Уведомл.svg" alt="">
                    </div>
                    <div class="about">
                        <h3>Моментальные уведомления о новых авто</h3>
                        <p>Как только появится автомобиль который вы ищите, тут же прийдет  уведомление в ваш месенжер (Telegram) </p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/Откл.svg" alt="">
                    </div>
                    <div class="about">
                        <h3>Отклонение от среднерыночной цены</h3>
                        <p>По каждому объявлению видно на сколько цена отличается от среднерыночной в ту или иную сторону</p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/statistics.png" alt="">
                    </div>
                    <div class="about">
                        <h3>Статистику изменения цены </h3>
                        <p>По каждому объявлению можно проследить как продавец менял цену за автомобиль</p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/whois.png" alt="">
                    </div>
                    <div class="about">
                        <h3>Фильтр от перекупщиков</h3>
                        <p>При желании можно убрать объявления от перекупщиков и автомобильных компаний. </p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/вор.png" alt="">
                    </div>
                    <div class="about">
                        <h3>Фильтр от «фейковых» объявлений</h3>
                        <p>Под блокировку попадают: Различные автоаукционы США и Европы, «не понятные» лизинговые компании, откровенно «Фейковые» объявления и т.д.</p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/Layer 2.png" alt="">
                    </div>
                    <div class="about">
                        <h3>Анализ продавца</h3>
                        <p>Можно посмотреть все продаваемые автомобили по номеру телефона. При этом четко понимать кто продает авто - перекупщик, частное лицо или Автомобильная компания...</p>
                    </div>
                </div>
                <div class="pluse_item">
                    <div class="photo">
                        <img src="../../static/img/Хром.svg" alt="">
                    </div>
                    <div class="about">
                        <h3>Плагин-помощник для Google Ghrome</h3>
                        <p>Это расширение облегчит поиск автомобиля и даст вам дополнительную информацию для анализа всех объявлений о продаже авто</p>
                    </div>
                </div>
            </div>
        </div>
        <a class="read_more" href="#">
            Узнать больше про возможности 2Cars.Pro
        </a>
    </div>
</section>
<section id="car_list">
    <div class="container">
        <div class="list_title">
            <h3>Последние поступления</h3>
            <div>(Постоянно обновляется)</div>
        </div>
        {% include 'main/components/car_list.html' %}
        <div class="btn_see_more">
            <a href="{% url 'all-car' %}" class="see_more">Показать все</a>
        </div>
    </div>
</section>
{% include 'main/components/properties.html' %}
{% endblock content %}

{% block modals %}
    {% include 'main/modals/save_filter.html' %}
{% endblock modals %}

{% block scripts %}
{% endblock scripts %}